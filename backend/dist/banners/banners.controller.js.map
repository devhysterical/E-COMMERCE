{"version":3,"sources":["../../src/banners/banners.controller.ts"],"sourcesContent":["import {\r\n  Controller,\r\n  Get,\r\n  Post,\r\n  Body,\r\n  Patch,\r\n  Param,\r\n  Delete,\r\n  UseGuards,\r\n} from '@nestjs/common';\r\nimport { BannersService } from './banners.service';\r\nimport { CreateBannerDto, UpdateBannerDto } from './dto/banner.dto';\r\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\r\nimport { RolesGuard } from '../common/guards/roles.guard';\r\nimport { Roles } from '../common/decorators/roles.decorator';\r\nimport { Role } from '@prisma/client';\r\n\r\n@Controller('banners')\r\nexport class BannersController {\r\n  constructor(private readonly bannersService: BannersService) {}\r\n\r\n  // Public: Lấy danh sách banners đang active (không cần auth)\r\n  @Get()\r\n  findAllActive() {\r\n    return this.bannersService.findAllActive();\r\n  }\r\n\r\n  // Admin APIs\r\n  @Get('admin/all')\r\n  @UseGuards(JwtAuthGuard, RolesGuard)\r\n  @Roles(Role.ADMIN)\r\n  findAll() {\r\n    return this.bannersService.findAll();\r\n  }\r\n\r\n  @Get('admin/:id')\r\n  @UseGuards(JwtAuthGuard, RolesGuard)\r\n  @Roles(Role.ADMIN)\r\n  findOne(@Param('id') id: string) {\r\n    return this.bannersService.findOne(id);\r\n  }\r\n\r\n  @Post('admin')\r\n  @UseGuards(JwtAuthGuard, RolesGuard)\r\n  @Roles(Role.ADMIN)\r\n  create(@Body() createBannerDto: CreateBannerDto) {\r\n    return this.bannersService.create(createBannerDto);\r\n  }\r\n\r\n  @Patch('admin/:id')\r\n  @UseGuards(JwtAuthGuard, RolesGuard)\r\n  @Roles(Role.ADMIN)\r\n  update(@Param('id') id: string, @Body() updateBannerDto: UpdateBannerDto) {\r\n    return this.bannersService.update(id, updateBannerDto);\r\n  }\r\n\r\n  @Delete('admin/:id')\r\n  @UseGuards(JwtAuthGuard, RolesGuard)\r\n  @Roles(Role.ADMIN)\r\n  remove(@Param('id') id: string) {\r\n    return this.bannersService.remove(id);\r\n  }\r\n}\r\n"],"names":["BannersController","findAllActive","bannersService","findAll","findOne","id","create","createBannerDto","update","updateBannerDto","remove","ADMIN"],"mappings":";;;;+BAkBaA;;;eAAAA;;;wBATN;gCACwB;2BACkB;8BACpB;4BACF;gCACL;wBACD;;;;;;;;;;;;;;;AAGd,IAAA,AAAMA,oBAAN,MAAMA;IAGX,6DAA6D;IAE7DC,gBAAgB;QACd,OAAO,IAAI,CAACC,cAAc,CAACD,aAAa;IAC1C;IAEA,aAAa;IAIbE,UAAU;QACR,OAAO,IAAI,CAACD,cAAc,CAACC,OAAO;IACpC;IAKAC,QAAQ,AAAaC,EAAU,EAAE;QAC/B,OAAO,IAAI,CAACH,cAAc,CAACE,OAAO,CAACC;IACrC;IAKAC,OAAO,AAAQC,eAAgC,EAAE;QAC/C,OAAO,IAAI,CAACL,cAAc,CAACI,MAAM,CAACC;IACpC;IAKAC,OAAO,AAAaH,EAAU,EAAE,AAAQI,eAAgC,EAAE;QACxE,OAAO,IAAI,CAACP,cAAc,CAACM,MAAM,CAACH,IAAII;IACxC;IAKAC,OAAO,AAAaL,EAAU,EAAE;QAC9B,OAAO,IAAI,CAACH,cAAc,CAACQ,MAAM,CAACL;IACpC;IA1CA,YAAY,AAAiBH,cAA8B,CAAE;aAAhCA,iBAAAA;IAAiC;AA2ChE;;;;;;;;;;4CAhCcS;;;;;;;;4CAOAA;;;;;;;;;;;4CAOAA;;;;;;;;;;;4CAOAA;;;;;;;;;;;;;4CAOAA"}