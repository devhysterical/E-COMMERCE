{"version":3,"sources":["../../src/wishlist/wishlist.controller.ts"],"sourcesContent":["import {\r\n  Controller,\r\n  Get,\r\n  Post,\r\n  Delete,\r\n  Param,\r\n  UseGuards,\r\n  Request,\r\n} from '@nestjs/common';\r\nimport { WishlistService } from './wishlist.service';\r\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\r\n\r\n@Controller('wishlist')\r\n@UseGuards(JwtAuthGuard)\r\nexport class WishlistController {\r\n  constructor(private wishlistService: WishlistService) {}\r\n\r\n  // GET /wishlist - Lấy danh sách wishlist\r\n  @Get()\r\n  getWishlist(@Request() req: { user: { userId: string } }) {\r\n    return this.wishlistService.getWishlist(req.user.userId);\r\n  }\r\n\r\n  // POST /wishlist/:productId - Thêm vào wishlist\r\n  @Post(':productId')\r\n  addToWishlist(\r\n    @Request() req: { user: { userId: string } },\r\n    @Param('productId') productId: string,\r\n  ) {\r\n    return this.wishlistService.addToWishlist(req.user.userId, productId);\r\n  }\r\n\r\n  // DELETE /wishlist/:productId - Xóa khỏi wishlist\r\n  @Delete(':productId')\r\n  removeFromWishlist(\r\n    @Request() req: { user: { userId: string } },\r\n    @Param('productId') productId: string,\r\n  ) {\r\n    return this.wishlistService.removeFromWishlist(req.user.userId, productId);\r\n  }\r\n\r\n  // POST /wishlist/:productId/toggle - Toggle wishlist\r\n  @Post(':productId/toggle')\r\n  toggleWishlist(\r\n    @Request() req: { user: { userId: string } },\r\n    @Param('productId') productId: string,\r\n  ) {\r\n    return this.wishlistService.toggleWishlist(req.user.userId, productId);\r\n  }\r\n\r\n  // GET /wishlist/:productId/check - Kiểm tra sản phẩm có trong wishlist\r\n  @Get(':productId/check')\r\n  async checkWishlist(\r\n    @Request() req: { user: { userId: string } },\r\n    @Param('productId') productId: string,\r\n  ) {\r\n    const inWishlist = await this.wishlistService.isInWishlist(\r\n      req.user.userId,\r\n      productId,\r\n    );\r\n    return { inWishlist };\r\n  }\r\n}\r\n"],"names":["WishlistController","getWishlist","req","wishlistService","user","userId","addToWishlist","productId","removeFromWishlist","toggleWishlist","checkWishlist","inWishlist","isInWishlist"],"mappings":";;;;+BAcaA;;;eAAAA;;;wBANN;iCACyB;8BACH;;;;;;;;;;;;;;;AAItB,IAAA,AAAMA,qBAAN,MAAMA;IAGX,yCAAyC;IAEzCC,YAAY,AAAWC,GAAiC,EAAE;QACxD,OAAO,IAAI,CAACC,eAAe,CAACF,WAAW,CAACC,IAAIE,IAAI,CAACC,MAAM;IACzD;IAEA,gDAAgD;IAEhDC,cACE,AAAWJ,GAAiC,EAC5C,AAAoBK,SAAiB,EACrC;QACA,OAAO,IAAI,CAACJ,eAAe,CAACG,aAAa,CAACJ,IAAIE,IAAI,CAACC,MAAM,EAAEE;IAC7D;IAEA,kDAAkD;IAElDC,mBACE,AAAWN,GAAiC,EAC5C,AAAoBK,SAAiB,EACrC;QACA,OAAO,IAAI,CAACJ,eAAe,CAACK,kBAAkB,CAACN,IAAIE,IAAI,CAACC,MAAM,EAAEE;IAClE;IAEA,qDAAqD;IAErDE,eACE,AAAWP,GAAiC,EAC5C,AAAoBK,SAAiB,EACrC;QACA,OAAO,IAAI,CAACJ,eAAe,CAACM,cAAc,CAACP,IAAIE,IAAI,CAACC,MAAM,EAAEE;IAC9D;IAEA,uEAAuE;IACvE,MACMG,cACJ,AAAWR,GAAiC,EAC5C,AAAoBK,SAAiB,EACrC;QACA,MAAMI,aAAa,MAAM,IAAI,CAACR,eAAe,CAACS,YAAY,CACxDV,IAAIE,IAAI,CAACC,MAAM,EACfE;QAEF,OAAO;YAAEI;QAAW;IACtB;IA9CA,YAAY,AAAQR,eAAgC,CAAE;aAAlCA,kBAAAA;IAAmC;AA+CzD"}