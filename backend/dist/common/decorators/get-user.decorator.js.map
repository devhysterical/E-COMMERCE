{"version":3,"sources":["../../../src/common/decorators/get-user.decorator.ts"],"sourcesContent":["import { createParamDecorator, ExecutionContext } from '@nestjs/common';\r\n\r\ninterface JwtPayload {\r\n  userId: string;\r\n  email: string;\r\n  role: string;\r\n}\r\n\r\ninterface RequestWithUser {\r\n  user: JwtPayload;\r\n}\r\n\r\nexport const GetUser = createParamDecorator(\r\n  (\r\n    data: keyof JwtPayload | undefined,\r\n    ctx: ExecutionContext,\r\n  ): string | JwtPayload => {\r\n    const request = ctx.switchToHttp().getRequest<RequestWithUser>();\r\n    if (data) {\r\n      return request.user[data];\r\n    }\r\n    return request.user;\r\n  },\r\n);\r\n"],"names":["GetUser","createParamDecorator","data","ctx","request","switchToHttp","getRequest","user"],"mappings":";;;;+BAYaA;;;eAAAA;;;wBAZ0C;AAYhD,MAAMA,UAAUC,IAAAA,4BAAoB,EACzC,CACEC,MACAC;IAEA,MAAMC,UAAUD,IAAIE,YAAY,GAAGC,UAAU;IAC7C,IAAIJ,MAAM;QACR,OAAOE,QAAQG,IAAI,CAACL,KAAK;IAC3B;IACA,OAAOE,QAAQG,IAAI;AACrB"}