{"version":3,"sources":["../src/main.ts"],"sourcesContent":["import { NestFactory } from '@nestjs/core';\r\nimport { AppModule } from './app.module';\r\nimport { ValidationPipe } from '@nestjs/common';\r\nimport { json, urlencoded } from 'express';\r\n\r\nasync function bootstrap() {\r\n  const app = await NestFactory.create(AppModule);\r\n\r\n  // Tăng body limit để hỗ trợ upload hình ảnh base64\r\n  app.use(json({ limit: '10mb' }));\r\n  app.use(urlencoded({ extended: true, limit: '10mb' }));\r\n\r\n  // Kích hoạt ValidationPipe toàn cục\r\n  app.useGlobalPipes(\r\n    new ValidationPipe({\r\n      whitelist: true,\r\n      forbidNonWhitelisted: true,\r\n      transform: true,\r\n    }),\r\n  );\r\n\r\n  // Kích hoạt CORS\r\n  app.enableCors();\r\n\r\n  await app.listen(process.env.PORT ?? 4000);\r\n}\r\nvoid bootstrap();\r\n"],"names":["bootstrap","app","NestFactory","create","AppModule","use","json","limit","urlencoded","extended","useGlobalPipes","ValidationPipe","whitelist","forbidNonWhitelisted","transform","enableCors","listen","process","env","PORT"],"mappings":";;;;sBAA4B;2BACF;wBACK;yBACE;AAEjC,eAAeA;IACb,MAAMC,MAAM,MAAMC,iBAAW,CAACC,MAAM,CAACC,oBAAS;IAE9C,mDAAmD;IACnDH,IAAII,GAAG,CAACC,IAAAA,aAAI,EAAC;QAAEC,OAAO;IAAO;IAC7BN,IAAII,GAAG,CAACG,IAAAA,mBAAU,EAAC;QAAEC,UAAU;QAAMF,OAAO;IAAO;IAEnD,oCAAoC;IACpCN,IAAIS,cAAc,CAChB,IAAIC,sBAAc,CAAC;QACjBC,WAAW;QACXC,sBAAsB;QACtBC,WAAW;IACb;IAGF,iBAAiB;IACjBb,IAAIc,UAAU;IAEd,MAAMd,IAAIe,MAAM,CAACC,QAAQC,GAAG,CAACC,IAAI,IAAI;AACvC;AACA,KAAKnB"}