{"version":3,"sources":["../../src/users/users.controller.ts"],"sourcesContent":["import {\r\n  Controller,\r\n  Get,\r\n  Patch,\r\n  Body,\r\n  UseGuards,\r\n  Request,\r\n} from '@nestjs/common';\r\nimport { UsersService } from './users.service';\r\nimport type { UpdateProfileDto, ChangePasswordDto } from './users.service';\r\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\r\n\r\n@Controller('users')\r\nexport class UsersController {\r\n  constructor(private readonly usersService: UsersService) {}\r\n\r\n  @UseGuards(JwtAuthGuard)\r\n  @Get('profile')\r\n  getProfile(@Request() req: { user: { userId: string } }) {\r\n    return this.usersService.getProfile(req.user.userId);\r\n  }\r\n\r\n  @UseGuards(JwtAuthGuard)\r\n  @Patch('profile')\r\n  updateProfile(\r\n    @Request() req: { user: { userId: string } },\r\n    @Body() dto: UpdateProfileDto,\r\n  ) {\r\n    return this.usersService.updateProfile(req.user.userId, dto);\r\n  }\r\n\r\n  @UseGuards(JwtAuthGuard)\r\n  @Patch('change-password')\r\n  changePassword(\r\n    @Request() req: { user: { userId: string } },\r\n    @Body() dto: ChangePasswordDto,\r\n  ) {\r\n    return this.usersService.changePassword(req.user.userId, dto);\r\n  }\r\n}\r\n"],"names":["UsersController","getProfile","req","usersService","user","userId","updateProfile","dto","changePassword"],"mappings":";;;;+BAaaA;;;eAAAA;;;wBANN;8BACsB;8BAEA;;;;;;;;;;;;;;;AAGtB,IAAA,AAAMA,kBAAN,MAAMA;IAKXC,WAAW,AAAWC,GAAiC,EAAE;QACvD,OAAO,IAAI,CAACC,YAAY,CAACF,UAAU,CAACC,IAAIE,IAAI,CAACC,MAAM;IACrD;IAIAC,cACE,AAAWJ,GAAiC,EAC5C,AAAQK,GAAqB,EAC7B;QACA,OAAO,IAAI,CAACJ,YAAY,CAACG,aAAa,CAACJ,IAAIE,IAAI,CAACC,MAAM,EAAEE;IAC1D;IAIAC,eACE,AAAWN,GAAiC,EAC5C,AAAQK,GAAsB,EAC9B;QACA,OAAO,IAAI,CAACJ,YAAY,CAACK,cAAc,CAACN,IAAIE,IAAI,CAACC,MAAM,EAAEE;IAC3D;IAxBA,YAAY,AAAiBJ,YAA0B,CAAE;aAA5BA,eAAAA;IAA6B;AAyB5D"}